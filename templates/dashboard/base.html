{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Dashboard{% endblock %}</title>
  <!-- Primero los estilos específicos de página, luego header.css los sobrescribe si es necesario -->
  <link rel="stylesheet" href="{% static 'dashboard/css/productos/main.css' %}">
  <link rel="stylesheet" href="{% static 'dashboard/css/header.css' %}">

  <!-- CSRF token (disponible en meta y cookie) -->
  <meta name="csrf-token" content="{{ csrf_token }}">
  
  <!-- Auth Helper - Sistema JWT centralizado -->
  <script src="{% static 'dashboard/js/auth-helper.js' %}"></script>
  
  <script>
    // Asegura que el token esté disponible como cookie para uso en JavaScript
    if (!document.cookie.includes('csrftoken')) {
      document.cookie = "csrftoken={{ csrf_token }}; path=/";
    }
  </script>
</head>

<body>
  {% include 'dashboard/includes/header.html' %}
  <main class="dashboard-main">
    {% block content %}{% endblock %}
  </main>
</body>
</html>

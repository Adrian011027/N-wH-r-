{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

  <title>Registro de Usuario</title>
  <link rel="stylesheet" href="{% static 'public/registro_usuario/css/main.css' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" referrerpolicy="no-referrer">
</head>
<body>
  <header>
    <div class="header-left">
      <a href="{% url 'index' %}">
        <img src="/static/images/NowHere.svg" id="Logo" class="fade-in" alt="NöwHėrē">
      </a>
      <h2>| Creación de cuenta N:</h2>
    </div>
  </header>

  <main>
    <div class="registro-header">
      <h1>Cree su cuenta</h1>
      <p class="lead">Cree su cuenta para acceder a una experiencia personalizada.</p>
    </div>

    <div class="registro-info">
      <p class="switch-login">
        ¿Ya tienes una cuenta en N:? <a href="/">Inicie sesión aquí</a>
      </p>
      <span class="req-note">* Campos requeridos</span>
    </div>

    <!-- FORMULARIO -->
    <form id="registroForm" method="POST" action="/clientes/crear/" novalidate>
      {% csrf_token %}
      <input type="hidden" name="csrfmiddlewaretoken" id="csrf_token">

      <!-- SECCIÓN: Datos de acceso -->
      <div class="form-section">
        <h3 class="section-title"><i class="fa-solid fa-user-lock"></i> Datos de acceso</h3>
        
        <!-- usuario -->
        <div class="form-group">
          <label for="username">Usuario*</label>
          <div class="input-icon">
            <i class="fa-solid fa-user"></i>
            <input type="text" id="username" name="username" required placeholder="Ej: juanperez123" autocomplete="username">
          </div>
          <small class="field-hint">Este será tu nombre de usuario para iniciar sesión</small>
        </div>

        <!-- correo -->
        <div class="form-group">
          <label for="email">Correo electrónico*</label>
          <div class="input-icon">
            <i class="fa-solid fa-envelope"></i>
            <input type="email" id="email" name="email" required placeholder="ejemplo@correo.com" autocomplete="email">
          </div>
        </div>

        <!-- confirmar correo -->
        <div class="form-group">
          <label for="email2">Confirmar correo*</label>
          <div class="input-icon">
            <i class="fa-solid fa-envelope-circle-check"></i>
            <input type="email" id="email2" name="email2" required placeholder="Confirma tu correo">
          </div>
        </div>

        <!-- contraseña -->
        <div class="form-group">
          <label for="pwd">Contraseña*</label>
          <div class="input-icon pwd-wrapper">
            <i class="fa-solid fa-lock"></i>
            <input type="password" id="pwd" name="pwd" required minlength="8" placeholder="Mínimo 8 caracteres" autocomplete="new-password">
            <button type="button" class="toggle-pwd" aria-label="Mostrar/ocultar contraseña">
              <i class="fa-regular fa-eye"></i>
            </button>
          </div>
          <div class="password-strength" id="pwdStrength">
            <div class="strength-bar"><span></span></div>
            <small class="strength-text"></small>
          </div>
        </div>

        <!-- confirmar contraseña -->
        <div class="form-group">
          <label for="pwd2">Confirmar contraseña*</label>
          <div class="input-icon pwd-wrapper">
            <i class="fa-solid fa-lock"></i>
            <input type="password" id="pwd2" name="pwd2" required minlength="8" placeholder="Repite tu contraseña" autocomplete="new-password">
            <button type="button" class="toggle-pwd" aria-label="Mostrar/ocultar contraseña">
              <i class="fa-regular fa-eye"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- SECCIÓN: Información personal -->
      <div class="form-section">
        <h3 class="section-title"><i class="fa-solid fa-address-card"></i> Información personal</h3>
        
        <!-- nombre -->
        <div class="form-group">
          <label for="nombre">Nombre completo*</label>
          <div class="input-icon">
            <i class="fa-solid fa-id-card"></i>
            <input type="text" id="nombre" name="nombre" placeholder="Tu nombre completo" autocomplete="name">
          </div>
        </div>

        <!-- teléfono -->
        <div class="form-group">
          <label for="telefono">Teléfono</label>
          <div class="input-icon">
            <i class="fa-solid fa-phone"></i>
            <input type="tel" id="telefono" name="telefono" placeholder="+52 123 456 7890" autocomplete="tel">
          </div>
        </div>

        <!-- dirección con autocompletado -->
        <div class="form-group full-width">
          <label for="direccion">Dirección</label>
          <div class="address-input-wrapper">
            <div class="input-icon">
              <i class="fa-solid fa-location-dot"></i>
              <input type="text" id="direccion" name="direccion" placeholder="Escribe tu dirección..." autocomplete="off">
            </div>
            <button type="button" id="btnOpenMap" class="btn-map" title="Seleccionar en mapa">
              <i class="fa-solid fa-map-location-dot"></i>
            </button>
          </div>
          <small class="field-hint">Comienza a escribir y selecciona de las sugerencias, o usa el mapa</small>
        </div>
      </div>

      <!-- botón -->
      <div class="actions">
        <button type="submit" class="btn-primary">
          <i class="fa-solid fa-user-plus"></i> Crear cuenta
        </button>
      </div>

      <p class="terms-note">
        Al crear tu cuenta, aceptas nuestros <a href="#">Términos y Condiciones</a> y <a href="#">Política de Privacidad</a>
      </p>
    </form>
  </main>

  <!-- MODAL DEL MAPA -->
  <div id="mapModal" class="map-modal">
    <div class="map-modal-content">
      <div class="map-modal-header">
        <h3><i class="fa-solid fa-map-location-dot"></i> Selecciona tu ubicación</h3>
        <button type="button" id="closeMapModal" class="close-modal">&times;</button>
      </div>
      <div class="map-search-container">
        <div class="input-icon">
          <i class="fa-solid fa-search"></i>
          <input type="text" id="mapSearchInput" placeholder="Buscar dirección...">
        </div>
      </div>
      <div id="map"></div>
      <div class="map-modal-footer">
        <p id="selectedAddress" class="selected-address">Haz clic en el mapa o busca una dirección</p>
        <div class="map-buttons">
          <button type="button" id="btnCancelMap" class="btn-secondary">Cancelar</button>
          <button type="button" id="btnConfirmMap" class="btn-primary">Confirmar ubicación</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <section class="info-footer">
    <div class="info-col">
      <h4 class="accordion-toggle">AYUDA</h4>
      <div class="accordion-content">
        <p>¿Tienes dudas sobre tu pedido?</p>
        <p>Contáctanos vía <a href="https://api.whatsapp.com/send/?phone=523322118360&text&type=phone_number&app_absent=0">WhatsApp</a> o envíanos un correo a <a href="jona.emir@hotmail.com">jona.emir@hotmail.com</a></p>
        <p><a href="#">Preguntas Frecuentes</a></p>
        <p><a href="#">Guía de Tallas</a></p>
      </div>
    </div>
    <div class="info-col">
      <h4 class="accordion-toggle">SERVICIOS</h4>
      <div class="accordion-content">
        <p><a href="#">Compra por Mayoreo</a></p>
        <p><a href="#">Seguimiento de Envíos</a></p>
        <p><a href="#">Política de Cambios</a></p>
        <p><a href="#">Atención Personalizada</a></p>
      </div>
    </div>
    <div class="info-col">
      <h4 class="accordion-toggle">INFORMACIÓN</h4>
      <div class="accordion-content">
        <p><a href="#">Sobre Nosotros</a></p>
        <p><a href="#">Métodos de Pago</a></p>
        <p><a href="#">Privacidad y Seguridad</a></p>
        <p><a href="#">Términos y Condiciones</a></p>
      </div>
    </div>
    <div class="info-col">
      <h4 class="accordion-toggle">Mayoreo</h4>
      <div class="accordion-content">
        <p>¿Eres revendedor o tienda?</p>
        <p>Mayoreo a partir de 6 pzs.</p>
        <p><a href="#">Solicita Cotización</a></p>
      </div>
    </div>
  </section>

  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-links">
        <a href="#">Avisos Legales</a>
      </div>
      <img src="/static/images/NowHere.svg" id="Logo-footer" class="fade-in" alt="NöwHėrē">
      <div class="footer-social">
        <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
        <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook"></i></a>
        <a href="https://api.whatsapp.com/send/?phone=523322118360&text&type=phone_number&app_absent=0" aria-label="WhatsApp"><i class="fa-brands fa-whatsapp"></i></a>
      </div>
    </div>
  </footer>

  <!-- Google Maps API deshabilitado - requiere billing en Google Cloud -->
  <!-- Si deseas habilitarlo, activa billing en https://console.cloud.google.com/project/_/billing/enable -->
  <script type="module" src="{% static 'public/registro_usuario/js/main.js' %}"></script>
</body>
</html>
